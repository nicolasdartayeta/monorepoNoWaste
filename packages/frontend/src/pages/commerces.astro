---
import Layout from "@/layouts/Layout.astro";
import CommerceCard from "@/components/CommerceCard.astro";
import comercioLogo from "../../public/images.png"
import comercioImage from "../../public/empa.jpg"

const API_URL = "http://localhost:3000/commerce";
interface Comercio {
  id: string; 
  name: string;
  description: string;
  address: string;
  city: string;
  creation_date: string; 
  active: boolean;
  owner_id: string; 
}
const response = await fetch(API_URL);
const comercios: Comercio[] = await response.json();

---

<Layout title= "Comercios">
  <div class = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 p-10">
      {comercios.map((comercio) => (
        <a href={`/commerces/${comercio.id}`}>
          <CommerceCard 
            name={comercio.name}
            address={comercio.address}
            description={comercio.description}
            city={comercio.city}
            logo={comercioLogo.src}
            image={comercioImage.src} 
          />
        </a>
      ))}
  </div>
</Layout>
    



